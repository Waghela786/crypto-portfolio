{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import NotificationBell from\"./NotificationBell\";import API from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){const navigate=useNavigate();const[user,setUser]=useState(null);const[token,setToken]=useState(localStorage.getItem(\"token\"));useEffect(()=>{const fetchUser=async()=>{if(!token)return;try{const res=await API.get(\"/users/me\",{headers:{Authorization:\"Bearer \".concat(token)}});setUser(res.data);localStorage.setItem(\"user\",JSON.stringify(res.data));// store for NotificationBell\n}catch(err){console.error(\"Failed to fetch user:\",err);}};fetchUser();},[token]);const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setUser(null);setToken(null);navigate(\"/login\");};return/*#__PURE__*/_jsxs(\"nav\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",padding:\"10px 30px\",background:\"linear-gradient(90deg, #667eea, #764ba2)\",color:\"#fff\",boxShadow:\"0 4px 6px rgba(0,0,0,0.1)\",position:\"sticky\",top:0,zIndex:1000},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",cursor:\"pointer\"},onClick:()=>navigate(\"/dashboard\"),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo192.png\",alt:\"CryptoLogo\",style:{width:\"40px\",height:\"40px\",marginRight:\"10px\"}}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:\"20px\",fontWeight:\"bold\"},children:\"CryptoPort\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"20px\",fontSize:\"16px\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",style:{color:\"#fff\",textDecoration:\"none\"},children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/wallets\",style:{color:\"#fff\",textDecoration:\"none\"},children:\"Wallet\"}),/*#__PURE__*/_jsx(Link,{to:\"/transactions\",style:{color:\"#fff\",textDecoration:\"none\"},children:\"Transactions\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{color:\"#fff\",textDecoration:\"none\"},children:\"Register\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:\"#fff\",textDecoration:\"none\"},children:\"Login\"}),user&&token&&/*#__PURE__*/_jsx(NotificationBell,{token:token,userId:user._id}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{padding:\"5px 12px\",backgroundColor:\"#ff4d4d\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\",color:\"#fff\",fontWeight:\"bold\"},children:\"Logout\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","NotificationBell","API","jsx","_jsx","jsxs","_jsxs","Navbar","navigate","user","setUser","token","setToken","localStorage","getItem","fetchUser","res","get","headers","Authorization","concat","data","setItem","JSON","stringify","err","console","error","handleLogout","removeItem","style","display","justifyContent","alignItems","padding","background","color","boxShadow","position","top","zIndex","children","cursor","onClick","src","alt","width","height","marginRight","margin","fontSize","fontWeight","gap","to","textDecoration","userId","_id","backgroundColor","border","borderRadius"],"sources":["C:/Users/waghe/Desktop/crypto-portfolio/my-app/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport NotificationBell from \"./NotificationBell\";\r\nimport API from \"../services/api\";\r\n\r\nexport default function Navbar() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      if (!token) return;\r\n      try {\r\n        const res = await API.get(\"/users/me\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setUser(res.data);\r\n        localStorage.setItem(\"user\", JSON.stringify(res.data)); // store for NotificationBell\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch user:\", err);\r\n      }\r\n    };\r\n    fetchUser();\r\n  }, [token]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    setUser(null);\r\n    setToken(null);\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <nav\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        padding: \"10px 30px\",\r\n        background: \"linear-gradient(90deg, #667eea, #764ba2)\",\r\n        color: \"#fff\",\r\n        boxShadow: \"0 4px 6px rgba(0,0,0,0.1)\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 1000,\r\n      }}\r\n    >\r\n      {/* Logo Section */}\r\n      <div\r\n        style={{ display: \"flex\", alignItems: \"center\", cursor: \"pointer\" }}\r\n        onClick={() => navigate(\"/dashboard\")}\r\n      >\r\n        <img\r\n          src=\"/logo192.png\"\r\n          alt=\"CryptoLogo\"\r\n          style={{ width: \"40px\", height: \"40px\", marginRight: \"10px\" }}\r\n        />\r\n        <h2 style={{ margin: 0, fontSize: \"20px\", fontWeight: \"bold\" }}>\r\n          CryptoPort\r\n        </h2>\r\n      </div>\r\n\r\n      {/* Navigation Links + Notification */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          gap: \"20px\",\r\n          fontSize: \"16px\",\r\n        }}\r\n      >\r\n        <Link to=\"/dashboard\" style={{ color: \"#fff\", textDecoration: \"none\" }}>\r\n          Dashboard\r\n        </Link>\r\n        <Link to=\"/wallets\" style={{ color: \"#fff\", textDecoration: \"none\" }}>\r\n          Wallet\r\n        </Link>\r\n        <Link to=\"/transactions\" style={{ color: \"#fff\", textDecoration: \"none\" }}>\r\n          Transactions\r\n        </Link>\r\n        <Link to=\"/register\" style={{ color: \"#fff\", textDecoration: \"none\" }}>\r\n          Register\r\n        </Link>\r\n        <Link to=\"/login\" style={{ color: \"#fff\", textDecoration: \"none\" }}>\r\n          Login\r\n        </Link>\r\n\r\n        {/* âœ… Notification Bell */}\r\n        {user && token && <NotificationBell token={token} userId={user._id} />}\r\n\r\n        <button\r\n          onClick={handleLogout}\r\n          style={{\r\n            padding: \"5px 12px\",\r\n            backgroundColor: \"#ff4d4d\",\r\n            border: \"none\",\r\n            borderRadius: \"5px\",\r\n            cursor: \"pointer\",\r\n            color: \"#fff\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}