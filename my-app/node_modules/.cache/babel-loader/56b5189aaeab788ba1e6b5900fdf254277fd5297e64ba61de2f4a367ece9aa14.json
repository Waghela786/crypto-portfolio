{"ast":null,"code":"import _objectSpread from\"C:/Users/waghe/Desktop/crypto-portfolio/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useCallback}from\"react\";import API from\"../services/api\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Wallet(){const[wallets,setWallets]=useState([]);const[coinsList,setCoinsList]=useState([]);const[selectedCoin,setSelectedCoin]=useState(\"\");const[amount,setAmount]=useState(\"\");const[message,setMessage]=useState(\"\");const[loading,setLoading]=useState(true);const[search,setSearch]=useState(\"\");const[totalValue,setTotalValue]=useState(0);const token=localStorage.getItem(\"token\");// ✅ Fetch wallet data + live prices\nconst fetchWallets=useCallback(async()=>{if(!token){setMessage(\"❌ Please login first\");setLoading(false);return;}try{setLoading(true);setMessage(\"\");const res=await API.get(\"/wallets\",{headers:{Authorization:\"Bearer \".concat(token)}});const updatedWallets=await Promise.all(res.data.map(async w=>{let valueUSD=\"N/A\";let image=null;try{var _coinRes$data,_coinRes$data$market_,_coinRes$data$market_2,_coinRes$data2,_coinRes$data2$image;const coinRes=await axios.get(\"https://api.coingecko.com/api/v3/coins/\".concat(w.coin.toLowerCase()));const price=(_coinRes$data=coinRes.data)===null||_coinRes$data===void 0?void 0:(_coinRes$data$market_=_coinRes$data.market_data)===null||_coinRes$data$market_===void 0?void 0:(_coinRes$data$market_2=_coinRes$data$market_.current_price)===null||_coinRes$data$market_2===void 0?void 0:_coinRes$data$market_2.usd;image=((_coinRes$data2=coinRes.data)===null||_coinRes$data2===void 0?void 0:(_coinRes$data2$image=_coinRes$data2.image)===null||_coinRes$data2$image===void 0?void 0:_coinRes$data2$image.thumb)||null;valueUSD=price?(price*w.amount).toFixed(2):\"N/A\";}catch(_unused){valueUSD=\"N/A\";}return _objectSpread(_objectSpread({},w),{},{valueUSD,image});}));// sort by highest USD value first\nupdatedWallets.sort((a,b)=>(b.valueUSD===\"N/A\"?0:b.valueUSD)-(a.valueUSD===\"N/A\"?0:a.valueUSD));// calculate total portfolio value\nconst total=updatedWallets.reduce((sum,w)=>w.valueUSD!==\"N/A\"?sum+Number(w.valueUSD):sum,0);setTotalValue(total.toFixed(2));setWallets(updatedWallets);}catch(err){console.error(err);setMessage(\"❌ Failed to fetch wallet data\");}finally{setLoading(false);}},[token]);// ✅ Auto-refresh every 30s\nuseEffect(()=>{fetchWallets();const interval=setInterval(fetchWallets,30000);return()=>clearInterval(interval);},[fetchWallets]);// ✅ Fetch coins list\nuseEffect(()=>{const fetchCoins=async()=>{try{const res=await axios.get(\"https://api.coingecko.com/api/v3/coins/list\");setCoinsList(res.data);}catch(err){console.error(\"Failed to fetch coins list\",err);}};fetchCoins();},[]);// ✅ Add coin to wallet\nconst handleAdd=async e=>{e.preventDefault();if(!selectedCoin||!amount)return;try{await API.post(\"/wallets\",{coin:selectedCoin,amount:Number(amount)},{headers:{Authorization:\"Bearer \".concat(token)}});setSelectedCoin(\"\");setAmount(\"\");setMessage(\"✅ Coin added successfully\");fetchWallets();}catch(err){console.error(err);setMessage(\"❌ Failed to add wallet\");}};// ✅ Delete coin\nconst handleDelete=async(id,coin)=>{if(!window.confirm(\"Are you sure you want to delete \".concat(coin.toUpperCase(),\"?\")))return;try{await API.delete(\"/wallets/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setMessage(\"\\uD83D\\uDDD1\\uFE0F \".concat(coin.toUpperCase(),\" deleted successfully\"));fetchWallets();}catch(err){console.error(err);setMessage(\"❌ Failed to delete coin\");}};const filteredCoins=coinsList.filter(c=>c.name.toLowerCase().includes(search.toLowerCase()));if(loading)return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"\\u23F3 Loading wallet data...\"});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"30px\",maxWidth:\"1000px\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",marginBottom:\"20px\",color:\"#2c3e50\"},children:\"\\uD83D\\uDCB0 My Crypto Wallet\"}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:message.startsWith(\"❌\")?\"red\":\"green\",textAlign:\"center\",fontWeight:\"bold\"},children:message}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#f8f9fa\",padding:\"15px\",borderRadius:\"10px\",textAlign:\"center\",marginBottom:\"30px\",boxShadow:\"0 2px 6px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0},children:[\"Total Portfolio Value: \\uD83D\\uDCB5 $\",totalValue]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdd,style:{display:\"flex\",gap:\"10px\",flexWrap:\"wrap\",justifyContent:\"center\",marginBottom:\"30px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search coin...\",value:search,onChange:e=>setSearch(e.target.value),style:{padding:\"10px\",flex:\"1\",minWidth:\"200px\",border:\"1px solid #ccc\",borderRadius:\"5px\"}}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCoin,onChange:e=>setSelectedCoin(e.target.value),required:true,style:{padding:\"10px\",flex:\"1\",minWidth:\"200px\",border:\"1px solid #ccc\",borderRadius:\"5px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Coin\"}),filteredCoins.slice(0,50).map(coin=>/*#__PURE__*/_jsxs(\"option\",{value:coin.id,children:[coin.name,\" (\",coin.symbol.toUpperCase(),\")\"]},coin.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",value:amount,onChange:e=>setAmount(e.target.value),required:true,style:{padding:\"10px\",width:\"120px\",border:\"1px solid #ccc\",borderRadius:\"5px\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:\"10px 20px\",backgroundColor:\"#4caf50\",color:\"white\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\",fontWeight:\"bold\"},children:\"\\u2795 Add Coin\"})]}),wallets.length===0?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"No coins added yet \\uD83D\\uDE80\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(220px, 1fr))\",gap:\"20px\"},children:wallets.map(w=>{var _w$coin;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"15px\",borderRadius:\"12px\",backgroundColor:\"#ffffff\",textAlign:\"center\",boxShadow:\"0 4px 8px rgba(0,0,0,0.1)\",transition:\"transform 0.2s, box-shadow 0.2s\",position:\"relative\"},onMouseEnter:e=>{e.currentTarget.style.transform=\"scale(1.03)\";e.currentTarget.style.boxShadow=\"0 6px 12px rgba(0,0,0,0.15)\";},onMouseLeave:e=>{e.currentTarget.style.transform=\"scale(1)\";e.currentTarget.style.boxShadow=\"0 4px 8px rgba(0,0,0,0.1)\";},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(w._id,w.coin),style:{position:\"absolute\",top:\"8px\",right:\"8px\",background:\"none\",border:\"none\",cursor:\"pointer\",color:\"#e74c3c\",fontSize:\"18px\",fontWeight:\"bold\"},title:\"Delete coin\",children:\"\\u2716\"}),w.image&&/*#__PURE__*/_jsx(\"img\",{src:w.image,alt:w.coin,width:\"50\",height:\"50\",style:{borderRadius:\"50%\"}}),/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"10px 0\",color:\"#333\"},children:((_w$coin=w.coin)===null||_w$coin===void 0?void 0:_w$coin.toUpperCase())||\"N/A\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Amount: \",/*#__PURE__*/_jsx(\"strong\",{children:w.amount||0})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Value (USD):\",\" \",/*#__PURE__*/_jsx(\"strong\",{style:{color:\"#4caf50\"},children:w.valueUSD===\"N/A\"?\"N/A\":\"$\".concat(w.valueUSD)})]})]},w._id||w.coin);})})]});}","map":{"version":3,"names":["React","useEffect","useState","useCallback","API","axios","jsx","_jsx","jsxs","_jsxs","Wallet","wallets","setWallets","coinsList","setCoinsList","selectedCoin","setSelectedCoin","amount","setAmount","message","setMessage","loading","setLoading","search","setSearch","totalValue","setTotalValue","token","localStorage","getItem","fetchWallets","res","get","headers","Authorization","concat","updatedWallets","Promise","all","data","map","w","valueUSD","image","_coinRes$data","_coinRes$data$market_","_coinRes$data$market_2","_coinRes$data2","_coinRes$data2$image","coinRes","coin","toLowerCase","price","market_data","current_price","usd","thumb","toFixed","_unused","_objectSpread","sort","a","b","total","reduce","sum","Number","err","console","error","interval","setInterval","clearInterval","fetchCoins","handleAdd","e","preventDefault","post","handleDelete","id","window","confirm","toUpperCase","delete","filteredCoins","filter","c","name","includes","style","textAlign","children","padding","maxWidth","margin","marginBottom","color","startsWith","fontWeight","backgroundColor","borderRadius","boxShadow","onSubmit","display","gap","flexWrap","justifyContent","type","placeholder","value","onChange","target","flex","minWidth","border","required","slice","symbol","width","cursor","length","gridTemplateColumns","_w$coin","transition","position","onMouseEnter","currentTarget","transform","onMouseLeave","onClick","_id","top","right","background","fontSize","title","src","alt","height"],"sources":["C:/Users/waghe/Desktop/crypto-portfolio/my-app/src/pages/Wallet.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport API from \"../services/api\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Wallet() {\r\n  const [wallets, setWallets] = useState([]);\r\n  const [coinsList, setCoinsList] = useState([]);\r\n  const [selectedCoin, setSelectedCoin] = useState(\"\");\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [totalValue, setTotalValue] = useState(0);\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  // ✅ Fetch wallet data + live prices\r\n  const fetchWallets = useCallback(async () => {\r\n    if (!token) {\r\n      setMessage(\"❌ Please login first\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setMessage(\"\");\r\n\r\n      const res = await API.get(\"/wallets\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      const updatedWallets = await Promise.all(\r\n        res.data.map(async (w) => {\r\n          let valueUSD = \"N/A\";\r\n          let image = null;\r\n          try {\r\n            const coinRes = await axios.get(\r\n              `https://api.coingecko.com/api/v3/coins/${w.coin.toLowerCase()}`\r\n            );\r\n            const price = coinRes.data?.market_data?.current_price?.usd;\r\n            image = coinRes.data?.image?.thumb || null;\r\n            valueUSD = price ? (price * w.amount).toFixed(2) : \"N/A\";\r\n          } catch {\r\n            valueUSD = \"N/A\";\r\n          }\r\n          return { ...w, valueUSD, image };\r\n        })\r\n      );\r\n\r\n      // sort by highest USD value first\r\n      updatedWallets.sort(\r\n        (a, b) =>\r\n          (b.valueUSD === \"N/A\" ? 0 : b.valueUSD) -\r\n          (a.valueUSD === \"N/A\" ? 0 : a.valueUSD)\r\n      );\r\n\r\n      // calculate total portfolio value\r\n      const total = updatedWallets.reduce(\r\n        (sum, w) => (w.valueUSD !== \"N/A\" ? sum + Number(w.valueUSD) : sum),\r\n        0\r\n      );\r\n\r\n      setTotalValue(total.toFixed(2));\r\n      setWallets(updatedWallets);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"❌ Failed to fetch wallet data\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [token]);\r\n\r\n  // ✅ Auto-refresh every 30s\r\n  useEffect(() => {\r\n    fetchWallets();\r\n    const interval = setInterval(fetchWallets, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [fetchWallets]);\r\n\r\n  // ✅ Fetch coins list\r\n  useEffect(() => {\r\n    const fetchCoins = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          \"https://api.coingecko.com/api/v3/coins/list\"\r\n        );\r\n        setCoinsList(res.data);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch coins list\", err);\r\n      }\r\n    };\r\n    fetchCoins();\r\n  }, []);\r\n\r\n  // ✅ Add coin to wallet\r\n  const handleAdd = async (e) => {\r\n    e.preventDefault();\r\n    if (!selectedCoin || !amount) return;\r\n\r\n    try {\r\n      await API.post(\r\n        \"/wallets\",\r\n        { coin: selectedCoin, amount: Number(amount) },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      setSelectedCoin(\"\");\r\n      setAmount(\"\");\r\n      setMessage(\"✅ Coin added successfully\");\r\n      fetchWallets();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"❌ Failed to add wallet\");\r\n    }\r\n  };\r\n\r\n  // ✅ Delete coin\r\n  const handleDelete = async (id, coin) => {\r\n    if (!window.confirm(`Are you sure you want to delete ${coin.toUpperCase()}?`)) return;\r\n\r\n    try {\r\n      await API.delete(`/wallets/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setMessage(`🗑️ ${coin.toUpperCase()} deleted successfully`);\r\n      fetchWallets();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"❌ Failed to delete coin\");\r\n    }\r\n  };\r\n\r\n  const filteredCoins = coinsList.filter((c) =>\r\n    c.name.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  if (loading) return <p style={{ textAlign: \"center\" }}>⏳ Loading wallet data...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"30px\", maxWidth: \"1000px\", margin: \"0 auto\" }}>\r\n      <h2\r\n        style={{\r\n          textAlign: \"center\",\r\n          marginBottom: \"20px\",\r\n          color: \"#2c3e50\",\r\n        }}\r\n      >\r\n        💰 My Crypto Wallet\r\n      </h2>\r\n\r\n      {message && (\r\n        <p\r\n          style={{\r\n            color: message.startsWith(\"❌\") ? \"red\" : \"green\",\r\n            textAlign: \"center\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          {message}\r\n        </p>\r\n      )}\r\n\r\n      {/* Portfolio total */}\r\n      <div\r\n        style={{\r\n          backgroundColor: \"#f8f9fa\",\r\n          padding: \"15px\",\r\n          borderRadius: \"10px\",\r\n          textAlign: \"center\",\r\n          marginBottom: \"30px\",\r\n          boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\r\n        }}\r\n      >\r\n        <h3 style={{ margin: 0 }}>Total Portfolio Value: 💵 ${totalValue}</h3>\r\n      </div>\r\n\r\n      {/* Add Coin Form */}\r\n      <form\r\n        onSubmit={handleAdd}\r\n        style={{\r\n          display: \"flex\",\r\n          gap: \"10px\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"center\",\r\n          marginBottom: \"30px\",\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search coin...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          style={{\r\n            padding: \"10px\",\r\n            flex: \"1\",\r\n            minWidth: \"200px\",\r\n            border: \"1px solid #ccc\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        />\r\n\r\n        <select\r\n          value={selectedCoin}\r\n          onChange={(e) => setSelectedCoin(e.target.value)}\r\n          required\r\n          style={{\r\n            padding: \"10px\",\r\n            flex: \"1\",\r\n            minWidth: \"200px\",\r\n            border: \"1px solid #ccc\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        >\r\n          <option value=\"\">Select Coin</option>\r\n          {filteredCoins.slice(0, 50).map((coin) => (\r\n            <option key={coin.id} value={coin.id}>\r\n              {coin.name} ({coin.symbol.toUpperCase()})\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Amount\"\r\n          value={amount}\r\n          onChange={(e) => setAmount(e.target.value)}\r\n          required\r\n          style={{\r\n            padding: \"10px\",\r\n            width: \"120px\",\r\n            border: \"1px solid #ccc\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            backgroundColor: \"#4caf50\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: \"5px\",\r\n            cursor: \"pointer\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          ➕ Add Coin\r\n        </button>\r\n      </form>\r\n\r\n      {/* Wallet Cards */}\r\n      {wallets.length === 0 ? (\r\n        <p style={{ textAlign: \"center\" }}>No coins added yet 🚀</p>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n            gap: \"20px\",\r\n          }}\r\n        >\r\n          {wallets.map((w) => (\r\n            <div\r\n              key={w._id || w.coin}\r\n              style={{\r\n                padding: \"15px\",\r\n                borderRadius: \"12px\",\r\n                backgroundColor: \"#ffffff\",\r\n                textAlign: \"center\",\r\n                boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\r\n                transition: \"transform 0.2s, box-shadow 0.2s\",\r\n                position: \"relative\",\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.transform = \"scale(1.03)\";\r\n                e.currentTarget.style.boxShadow = \"0 6px 12px rgba(0,0,0,0.15)\";\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = \"scale(1)\";\r\n                e.currentTarget.style.boxShadow = \"0 4px 8px rgba(0,0,0,0.1)\";\r\n              }}\r\n            >\r\n              {/* Delete Button */}\r\n              <button\r\n                onClick={() => handleDelete(w._id, w.coin)}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"8px\",\r\n                  right: \"8px\",\r\n                  background: \"none\",\r\n                  border: \"none\",\r\n                  cursor: \"pointer\",\r\n                  color: \"#e74c3c\",\r\n                  fontSize: \"18px\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n                title=\"Delete coin\"\r\n              >\r\n                ✖\r\n              </button>\r\n\r\n              {w.image && (\r\n                <img\r\n                  src={w.image}\r\n                  alt={w.coin}\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  style={{ borderRadius: \"50%\" }}\r\n                />\r\n              )}\r\n              <h4 style={{ margin: \"10px 0\", color: \"#333\" }}>\r\n                {w.coin?.toUpperCase() || \"N/A\"}\r\n              </h4>\r\n              <p>Amount: <strong>{w.amount || 0}</strong></p>\r\n              <p>\r\n                Value (USD):{\" \"}\r\n                <strong style={{ color: \"#4caf50\" }}>\r\n                  {w.valueUSD === \"N/A\" ? \"N/A\" : `$${w.valueUSD}`}\r\n                </strong>\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}