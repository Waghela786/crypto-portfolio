{"ast":null,"code":"import _objectSpread from\"C:/Users/waghe/Desktop/crypto-portfolio/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Transactions.js\nimport React,{useEffect,useState,useCallback}from\"react\";import API from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Transactions(){const[tab,setTab]=useState(\"send\");const[wallets,setWallets]=useState([]);const[recipientEmail,setRecipientEmail]=useState(\"\");const[selectedCoin,setSelectedCoin]=useState(\"\");const[sendAmount,setSendAmount]=useState(\"\");const[receivedTx,setReceivedTx]=useState([]);const[message,setMessage]=useState(\"\");const token=localStorage.getItem(\"token\");const userEmail=localStorage.getItem(\"userEmail\");// Redirect if user is not logged in\nuseEffect(()=>{if(!userEmail||!token){setMessage(\"âŒ User not logged in\");}},[userEmail,token]);// Fetch wallets\nconst fetchWallets=useCallback(async()=>{if(!token)return;try{const res=await API.get(\"/wallets\",{headers:{Authorization:\"Bearer \".concat(token)}});setWallets(res.data);}catch(err){var _err$response;console.error(\"âŒ Wallet fetch error:\",((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);}},[token]);// Fetch received transactions\nconst fetchReceived=useCallback(async()=>{if(!token)return;try{const res=await API.get(\"/transactions/received\",{headers:{Authorization:\"Bearer \".concat(token)}});setReceivedTx(res.data);}catch(err){var _err$response2;console.error(\"âŒ Received fetch error:\",((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data)||err.message);}},[token]);useEffect(()=>{fetchWallets();fetchReceived();},[fetchWallets,fetchReceived]);// ============================\n// Debug function: Verify recipient\n// ============================\nconst verifyRecipient=async email=>{try{console.log(\"ðŸ”¹ Verifying recipient:\",email);console.log(\"ðŸ”¹ Using token:\",token);const res=await API.post(\"/transactions/verify-user\",{email},{headers:{Authorization:\"Bearer \".concat(token)}});console.log(\"ðŸ”¹ Backend response:\",res.data);return res.data.ok;}catch(err){var _err$response3;console.error(\"âŒ Error verifying recipient:\",((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.data)||err.message);return false;}};// ============================\n// Handle send coin\n// ============================\nconst handleSend=async e=>{e.preventDefault();setMessage(\"\");if(!token||!userEmail){setMessage(\"âŒ User not logged in\");return;}if(!selectedCoin||!sendAmount||!recipientEmail){setMessage(\"âŒ Please fill all fields\");return;}if(recipientEmail.toLowerCase()===userEmail.toLowerCase()){setMessage(\"âŒ You cannot send coins to yourself!\");return;}// Verify recipient\nconst recipientExists=await verifyRecipient(recipientEmail.trim());if(!recipientExists){setMessage(\"âŒ Recipient does not exist on the app\");return;}// Check sender balance\nconst walletCoin=wallets.find(w=>w.coin===selectedCoin);if(!walletCoin||parseFloat(sendAmount)>parseFloat(walletCoin.amount)){setMessage(\"âŒ Insufficient coin balance\");return;}// Send coin\ntry{const res=await API.post(\"/transactions/send\",{coin:selectedCoin,amount:parseFloat(sendAmount),toEmail:recipientEmail.trim()},{headers:{Authorization:\"Bearer \".concat(token)}});console.log(\"ðŸ”¹ Send response:\",res.data);setMessage(\"âœ… Transaction successful!\");setSelectedCoin(\"\");setSendAmount(\"\");setRecipientEmail(\"\");fetchWallets();fetchReceived();}catch(err){var _err$response4,_err$response5,_err$response5$data;console.error(\"âŒ Send coin error:\",((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.data)||err.message);setMessage(\"âŒ Failed to send coin. \"+(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||\"\"));}};const tabButtonStyle=active=>({padding:\"10px 20px\",backgroundColor:active?\"#4caf50\":\"#ccc\",color:active?\"white\":\"#333\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\"});const inputStyle={padding:\"10px\",borderRadius:\"5px\",border:\"1px solid #ccc\"};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"30px\",maxWidth:\"900px\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",marginBottom:\"20px\"},children:\"\\uD83D\\uDCB8 Transactions\"}),message&&/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:message.startsWith(\"âŒ\")?\"red\":\"green\",fontWeight:\"bold\"},children:message}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",marginBottom:\"20px\",gap:\"10px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTab(\"send\"),style:tabButtonStyle(tab===\"send\"),children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTab(\"received\"),style:tabButtonStyle(tab===\"received\"),children:\"Received\"})]}),tab===\"send\"&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,style:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedCoin,onChange:e=>setSelectedCoin(e.target.value),required:true,style:inputStyle,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Coin\"}),wallets.map(w=>/*#__PURE__*/_jsxs(\"option\",{value:w.coin,children:[w.coin,\" (Balance: \",w.amount,\")\"]},w.coin))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",value:sendAmount,onChange:e=>setSendAmount(e.target.value),required:true,style:inputStyle}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Recipient Email\",value:recipientEmail,onChange:e=>setRecipientEmail(e.target.value),required:true,style:inputStyle}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:recipientEmail.toLowerCase()===(userEmail===null||userEmail===void 0?void 0:userEmail.toLowerCase()),style:_objectSpread(_objectSpread({},inputStyle),{},{backgroundColor:recipientEmail.toLowerCase()===(userEmail===null||userEmail===void 0?void 0:userEmail.toLowerCase())?\"#ccc\":\"#4caf50\",color:\"white\",fontWeight:\"bold\",cursor:recipientEmail.toLowerCase()===(userEmail===null||userEmail===void 0?void 0:userEmail.toLowerCase())?\"not-allowed\":\"pointer\",border:\"none\"}),children:\"Send Coin\"})]}),tab===\"received\"&&/*#__PURE__*/_jsx(\"div\",{children:receivedTx.length===0?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"No received transactions yet\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",padding:0},children:receivedTx.map(tx=>/*#__PURE__*/_jsxs(\"li\",{style:{padding:\"10px\",borderBottom:\"1px solid #ccc\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:tx.fromEmail}),\" sent you \",/*#__PURE__*/_jsx(\"strong\",{children:tx.amount}),\" \",tx.coin,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:new Date(tx.createdAt).toLocaleString()})]},tx._id))})})]});}","map":{"version":3,"names":["React","useEffect","useState","useCallback","API","jsx","_jsx","jsxs","_jsxs","Transactions","tab","setTab","wallets","setWallets","recipientEmail","setRecipientEmail","selectedCoin","setSelectedCoin","sendAmount","setSendAmount","receivedTx","setReceivedTx","message","setMessage","token","localStorage","getItem","userEmail","fetchWallets","res","get","headers","Authorization","concat","data","err","_err$response","console","error","response","fetchReceived","_err$response2","verifyRecipient","email","log","post","ok","_err$response3","handleSend","e","preventDefault","toLowerCase","recipientExists","trim","walletCoin","find","w","coin","parseFloat","amount","toEmail","_err$response4","_err$response5","_err$response5$data","tabButtonStyle","active","padding","backgroundColor","color","border","borderRadius","cursor","inputStyle","style","maxWidth","margin","children","textAlign","marginBottom","startsWith","fontWeight","display","justifyContent","gap","onClick","onSubmit","flexDirection","value","onChange","target","required","map","type","placeholder","disabled","_objectSpread","length","listStyle","tx","borderBottom","fromEmail","Date","createdAt","toLocaleString","_id"],"sources":["C:/Users/waghe/Desktop/crypto-portfolio/my-app/src/pages/Transactions.js"],"sourcesContent":["// src/pages/Transactions.js\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport API from \"../services/api\";\r\n\r\nexport default function Transactions() {\r\n  const [tab, setTab] = useState(\"send\");\r\n  const [wallets, setWallets] = useState([]);\r\n  const [recipientEmail, setRecipientEmail] = useState(\"\");\r\n  const [selectedCoin, setSelectedCoin] = useState(\"\");\r\n  const [sendAmount, setSendAmount] = useState(\"\");\r\n  const [receivedTx, setReceivedTx] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n  const userEmail = localStorage.getItem(\"userEmail\");\r\n\r\n  // Redirect if user is not logged in\r\n  useEffect(() => {\r\n    if (!userEmail || !token) {\r\n      setMessage(\"âŒ User not logged in\");\r\n    }\r\n  }, [userEmail, token]);\r\n\r\n  // Fetch wallets\r\n  const fetchWallets = useCallback(async () => {\r\n    if (!token) return;\r\n    try {\r\n      const res = await API.get(\"/wallets\", { headers: { Authorization: `Bearer ${token}` } });\r\n      setWallets(res.data);\r\n    } catch (err) {\r\n      console.error(\"âŒ Wallet fetch error:\", err.response?.data || err.message);\r\n    }\r\n  }, [token]);\r\n\r\n  // Fetch received transactions\r\n  const fetchReceived = useCallback(async () => {\r\n    if (!token) return;\r\n    try {\r\n      const res = await API.get(\"/transactions/received\", { headers: { Authorization: `Bearer ${token}` } });\r\n      setReceivedTx(res.data);\r\n    } catch (err) {\r\n      console.error(\"âŒ Received fetch error:\", err.response?.data || err.message);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    fetchWallets();\r\n    fetchReceived();\r\n  }, [fetchWallets, fetchReceived]);\r\n\r\n  // ============================\r\n  // Debug function: Verify recipient\r\n  // ============================\r\n  const verifyRecipient = async (email) => {\r\n    try {\r\n      console.log(\"ðŸ”¹ Verifying recipient:\", email);\r\n      console.log(\"ðŸ”¹ Using token:\", token);\r\n\r\n      const res = await API.post(\r\n        \"/transactions/verify-user\",\r\n        { email },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      console.log(\"ðŸ”¹ Backend response:\", res.data);\r\n      return res.data.ok;\r\n    } catch (err) {\r\n      console.error(\"âŒ Error verifying recipient:\", err.response?.data || err.message);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // ============================\r\n  // Handle send coin\r\n  // ============================\r\n  const handleSend = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n\r\n    if (!token || !userEmail) {\r\n      setMessage(\"âŒ User not logged in\");\r\n      return;\r\n    }\r\n\r\n    if (!selectedCoin || !sendAmount || !recipientEmail) {\r\n      setMessage(\"âŒ Please fill all fields\");\r\n      return;\r\n    }\r\n\r\n    if (recipientEmail.toLowerCase() === userEmail.toLowerCase()) {\r\n      setMessage(\"âŒ You cannot send coins to yourself!\");\r\n      return;\r\n    }\r\n\r\n    // Verify recipient\r\n    const recipientExists = await verifyRecipient(recipientEmail.trim());\r\n    if (!recipientExists) {\r\n      setMessage(\"âŒ Recipient does not exist on the app\");\r\n      return;\r\n    }\r\n\r\n    // Check sender balance\r\n    const walletCoin = wallets.find((w) => w.coin === selectedCoin);\r\n    if (!walletCoin || parseFloat(sendAmount) > parseFloat(walletCoin.amount)) {\r\n      setMessage(\"âŒ Insufficient coin balance\");\r\n      return;\r\n    }\r\n\r\n    // Send coin\r\n    try {\r\n      const res = await API.post(\r\n        \"/transactions/send\",\r\n        { coin: selectedCoin, amount: parseFloat(sendAmount), toEmail: recipientEmail.trim() },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      console.log(\"ðŸ”¹ Send response:\", res.data);\r\n      setMessage(\"âœ… Transaction successful!\");\r\n      setSelectedCoin(\"\");\r\n      setSendAmount(\"\");\r\n      setRecipientEmail(\"\");\r\n      fetchWallets();\r\n      fetchReceived();\r\n    } catch (err) {\r\n      console.error(\"âŒ Send coin error:\", err.response?.data || err.message);\r\n      setMessage(\"âŒ Failed to send coin. \" + (err.response?.data?.message || \"\"));\r\n    }\r\n  };\r\n\r\n  const tabButtonStyle = (active) => ({\r\n    padding: \"10px 20px\",\r\n    backgroundColor: active ? \"#4caf50\" : \"#ccc\",\r\n    color: active ? \"white\" : \"#333\",\r\n    border: \"none\",\r\n    borderRadius: \"5px\",\r\n    cursor: \"pointer\",\r\n  });\r\n\r\n  const inputStyle = { padding: \"10px\", borderRadius: \"5px\", border: \"1px solid #ccc\" };\r\n\r\n  return (\r\n    <div style={{ padding: \"30px\", maxWidth: \"900px\", margin: \"0 auto\" }}>\r\n      <h2 style={{ textAlign: \"center\", marginBottom: \"20px\" }}>ðŸ’¸ Transactions</h2>\r\n\r\n      {message && (\r\n        <p style={{ textAlign: \"center\", color: message.startsWith(\"âŒ\") ? \"red\" : \"green\", fontWeight: \"bold\" }}>\r\n          {message}\r\n        </p>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div style={{ display: \"flex\", justifyContent: \"center\", marginBottom: \"20px\", gap: \"10px\" }}>\r\n        <button onClick={() => setTab(\"send\")} style={tabButtonStyle(tab === \"send\")}>Send</button>\r\n        <button onClick={() => setTab(\"received\")} style={tabButtonStyle(tab === \"received\")}>Received</button>\r\n      </div>\r\n\r\n      {/* Send Form */}\r\n      {tab === \"send\" && (\r\n        <form onSubmit={handleSend} style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}>\r\n          <select value={selectedCoin} onChange={(e) => setSelectedCoin(e.target.value)} required style={inputStyle}>\r\n            <option value=\"\">Select Coin</option>\r\n            {wallets.map((w) => (\r\n              <option key={w.coin} value={w.coin}>\r\n                {w.coin} (Balance: {w.amount})\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Amount\"\r\n            value={sendAmount}\r\n            onChange={(e) => setSendAmount(e.target.value)}\r\n            required\r\n            style={inputStyle}\r\n          />\r\n\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Recipient Email\"\r\n            value={recipientEmail}\r\n            onChange={(e) => setRecipientEmail(e.target.value)}\r\n            required\r\n            style={inputStyle}\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={recipientEmail.toLowerCase() === userEmail?.toLowerCase()}\r\n            style={{\r\n              ...inputStyle,\r\n              backgroundColor: recipientEmail.toLowerCase() === userEmail?.toLowerCase() ? \"#ccc\" : \"#4caf50\",\r\n              color: \"white\",\r\n              fontWeight: \"bold\",\r\n              cursor: recipientEmail.toLowerCase() === userEmail?.toLowerCase() ? \"not-allowed\" : \"pointer\",\r\n              border: \"none\",\r\n            }}\r\n          >\r\n            Send Coin\r\n          </button>\r\n        </form>\r\n      )}\r\n\r\n      {/* Received Transactions */}\r\n      {tab === \"received\" && (\r\n        <div>\r\n          {receivedTx.length === 0 ? (\r\n            <p style={{ textAlign: \"center\" }}>No received transactions yet</p>\r\n          ) : (\r\n            <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n              {receivedTx.map((tx) => (\r\n                <li key={tx._id} style={{ padding: \"10px\", borderBottom: \"1px solid #ccc\" }}>\r\n                  <strong>{tx.fromEmail}</strong> sent you <strong>{tx.amount}</strong> {tx.coin}\r\n                  <br />\r\n                  <small>{new Date(tx.createdAt).toLocaleString()}</small>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}